<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Document</title><link rel="stylesheet" href="index.6a5f583a.css"></head><body> <div> <div style="display:flex"> <div class="checkerboard"> <div class="checkerboard-ck" onclick="onCbClick(event)"></div> <div class="checkerboard-win"> 点击右方按钮开始 </div> </div> <div style="width:140px;padding:30px">  <button style="width:100%;margin-top:15px;font-size:16px" onclick="onStart(0)">电脑先开始</button>   </div> </div> </div> <script src="index.8172a1b1.js"></script> <script>const unitW=30,mkW=5,pointW=20;let current=1,step=0,prePoint={x:null,y:null},chess=null;function calc(){let e=new Date,{x:t,y:r,t:o}=chess.calc(current,3);console.log(step,(new Date).getTime()-e.getTime()),putPoint(t,r)}function debugSave(){let e=chess.getPoints();e[prePoint.y][prePoint.x]=-1,console.log(prePoint,e),localStorage.setItem("TEMP",JSON.stringify(e))}function debugStart(){let e=JSON.parse(localStorage.getItem("TEMP"));console.log(e),current=1,start=!0,chess=new Chess(e,1),document.querySelectorAll(".point").forEach((t=>{t.setAttribute("color",e[t.getAttribute("y")][t.getAttribute("x")])})),document.querySelector(".checkerboard-win").setAttribute("style","display:none"),document.querySelector(".p-mk").setAttribute("style","display:none"),setTimeout((()=>{calc()}),0)}function putPoint(e,t){return!!chess.putPoint(e,t,current,!0)&&(document.querySelector(`.point[x='${e}'][y='${t}']`).setAttribute("color",current),document.querySelector(".p-mk").setAttribute("style",`top:${30*(t+1)-2}px;left:${30*(e+1)-2}px`),prePoint={x:e,y:t},current=1-current,step++,225==step?(document.querySelector(".checkerboard-win").setAttribute("style","display:flex"),document.querySelector(".checkerboard-win").innerHTML="平局",start=!1,!1):!chess.isWin(e,t)||(document.querySelector(".checkerboard-win").setAttribute("style","display:flex"),document.querySelector(".checkerboard-win").innerHTML=1==current?"白棋胜":"黑棋胜",start=!1,!1))}function onStart(e){current=1,start=!0,chess=new Chess(create2DArr(15,15,-1),1),document.querySelectorAll(".point").forEach((e=>e.setAttribute("color","-1"))),document.querySelector(".checkerboard-win").setAttribute("style","display:none"),document.querySelector(".p-mk").setAttribute("style","display:none"),0==e&&calc()}function onCbClick(e){if(!start)return;putPoint(Math.floor((e.layerX-15)/30),Math.floor((e.layerY-15)/30))&&setTimeout((()=>{calc()}),0)}!function(){let e="";for(let t=0;t<15;t++)e+=`<div class="h-line" style="top:${30*t+30}px;"></div>\n`;for(let t=0;t<15;t++)e+=`<div class="v-line" style="left:${30*t+30}px;"></div>\n`;for(let t of[[3,3],[11,3],[7,7],[3,11],[11,11]])e+=`<div class="mk" style="top:${30*(t[0]+1)-2}px;left:${30*(t[1]+1)-2}px;"></div>`;for(let t=0;t<15;t++)for(let r=0;r<15;r++)e+=`<div class="point" color="-1" x="${r}" y="${t}" style="top:${30*t+30-10}px;left:${30*r+30-10}px;"></div>`;e+='<div class="p-mk" style="display:none"></div>',document.querySelector(".checkerboard").innerHTML=e+document.querySelector(".checkerboard").innerHTML}();</script> </body></html>